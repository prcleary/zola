<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;media-src 'self';style-src 'self';frame-src player.vimeo.com https://www.youtube-nocookie.com;connect-src 'self';script-src 'self' 'self'" http-equiv=Content-Security-Policy><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content=https://prcleary.github.io/zola/ name=base><title>
Wikipaulia | Backing up servers and desktops with borgmatic</title><link title="Wikipaulia - Atom Feed" href=https://prcleary.github.io/zola/atom.xml rel=alternate type=application/atom+xml><link href="https://prcleary.github.io/zola/custom_subset.css?h=0b9535a28bc3d5bf2321" rel=stylesheet><link href="https://prcleary.github.io/zola/main.css?h=3716ab3457d2dd050b3c" rel=stylesheet><meta content="light dark" name=color-scheme><meta content="An epidemiologist dabbles in statistics, coding, open source software, the cloud and AI." name=description><meta content="An epidemiologist dabbles in statistics, coding, open source software, the cloud and AI." property=og:description><meta content="Backing up servers and desktops with borgmatic" property=og:title><meta content=article property=og:type><meta content=en_GB property=og:locale><meta content=https://prcleary.github.io/zola/notes/Selfhosting/backing-up-servers-and-desktops-with-borgmatic/ property=og:url><meta content=Wikipaulia property=og:site_name><noscript><link href=https://prcleary.github.io/zola/no_js.css rel=stylesheet></noscript><script src=https://prcleary.github.io/zola/js/initializeTheme.min.js></script><script defer src=https://prcleary.github.io/zola/js/themeSwitcher.min.js></script><script src="https://prcleary.github.io/zola/js/searchElasticlunr.min.js?h=3626c0ef99daa745b31e" defer></script><body class=use-sans-serif><a href=#main-content id=skip-link>Skip to content</a><header><nav class=navbar><div class=nav-title><a class=home-title href=https://prcleary.github.io/zola/>Wikipaulia</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://prcleary.github.io/zola/blog/>blog </a><li><a class="nav-links no-hover-padding" href=https://prcleary.github.io/zola/archive/>archive </a><li><a class="nav-links no-hover-padding" href=https://prcleary.github.io/zola/notes/>notes </a><li><a class="nav-links no-hover-padding" href=https://prcleary.github.io/zola/about/>about </a><li class=menu-icons-container><ul class=menu-icons-group><li class="js menu-icon"><div aria-label="Click or press $SHORTCUT to open search" class="search-icon interactive-icon" title="Click or press $SHORTCUT to open search" id=search-button role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><li class="theme-switcher-wrapper js"><div aria-label="Toggle dark mode" title="Toggle dark/light mode" aria-pressed=false class=theme-switcher role=button tabindex=0></div><div aria-label="Reset mode to default" class="theme-resetter arrow" title="Reset mode to default" aria-hidden=true role=button tabindex=0></div></ul></ul></div></nav></header><div class=content id=main-content><main><article class=h-entry><h1 class="p-name article-title">Backing up servers and desktops with borgmatic</h1><a class="u-url u-uid" href=https://prcleary.github.io/zola/notes/Selfhosting/backing-up-servers-and-desktops-with-borgmatic/></a><ul class=meta><span class="hidden p-author h-card"> <a title="Paul Cleary" class=u-url href=https://prcleary.github.io/zola/ rel=author>Paul Cleary</a> </span><li title="935 words">5 min read</ul><section class="e-content body"><p>To have a resilient backup strategy, you need:<ul><li>(at least) three copies of every file, database, VM/filesystem snapshot or whatever you don’t want to lose - this allows for failure of systems<li>two of those copies should be on different media (being on different computers seems to count) - this allows for failure of media<li>one of those copies should be off-site (e.g. in the cloud) - this allows for catastrophes affecting your home/data centre</ul><p>I maintain a mail server for a local football club. It runs on a cloud VM (one of Hetzner’s cheapest tier offerings) and automatically makes backups of the emails locally. I’ve been using <code>rsync</code> to keep an up-to-date copy of the backups on my desktop machine. The alias in my <code>.bashrc</code> that I use is (sensitive details obscured):<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-support z-function z-alias z-shell">alias</span> <span class="z-entity z-name z-function z-alias z-shell">getboxbackups</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>rsync -avzP --delete --rsh=<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span><span class="z-constant z-character z-escape z-shell">\'</span><span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span>ssh -p 9999<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span><span class="z-constant z-character z-escape z-shell">\'</span><span class="z-string z-quoted z-single z-shell"><span class="z-punctuation z-definition z-string z-begin z-shell">'</span> box.example.com:/home/user-data/backup/encrypted/ /home/paul/Backups/box.example.com<span class="z-punctuation z-definition z-string z-end z-shell">'</span></span></span></span>
</span></code></pre><p>I have another alias which runs several other aliases for various system administration tasks such as updates and backups. I run this daily from my home Linux box, or via my phone if I am away.<p>When I got my new home server I decided to try out Nextcloud All-In-One and this comes with <a class=external href=https://github.com/nextcloud/all-in-one/discussions/4391>a backup process</a> based on <a class=external href=https://www.borgbase.com/>BorgBase - Simple and Secure Offsite Backups</a>. As I now had an account with them, I decided to back up my football emails there too. You get a terabyte for about $24 a year so it’s probably cheaper than doing it yourself.<p>It is not that complicated at the end of the day, but I did make some mistakes in the process, for example starting with the <a class=external href=https://torsion.org/borgmatic/docs/how-to/set-up-backups/>comprehensive documentation on the borgmatic site</a> and getting diverted into some similar instructions on the BorgBase site. The instructions below are mostly taken from the borgmatic site, which it is best to adhere to. I also had some problems with SSH, which seemed to work in some ways but not in others. After several rounds with asking for help from DeepSeek and searching the Web, I eventually solved the problem myself by realising something quite simple, which I mention below.<p>I’m glad I worked it out, because this could be useful for all sorts of server backups.<h2 id=instructions>Instructions</h2><p>Install the software and check it can be run: this installs it so you can run it as root or as an ordinary user - I might want to do either.<p>Note that after some steps you should exit your shell and open another. I also had to add a local executable path into the <code>sudo</code> configuration for this to work.<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> apt install borgbackup pipx</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> pipx ensurepath  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> exit shell and open another</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> pipx install borgmatic</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> borgmatic<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>version  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> check</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">pipx</span></span><span class="z-meta z-function-call z-arguments z-shell"> ensurepath  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> exit shell and open another</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">pipx</span></span><span class="z-meta z-function-call z-arguments z-shell"> install borgmatic</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> EDITOR=vim visudo <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> add `:/home/paul/.local/bin` to end of `secure_path`</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">borgmatic</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>version  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> check</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></span></span></code></pre><p>If you don’t already have SSH keys then you should create them. <em>If you want to run borgmatic both as root and as an ordinary user, you should make sure that the SSH keys are in both <code>~/.ssh</code> and <code>/root/.ssh</code>, and that permissions and ownership are correct.</em><p>Then you will need to copy the public key you want to use to borgbase.com.<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">cat</span></span><span class="z-meta z-function-call z-arguments z-shell"> <span class="z-meta z-group z-expansion z-tilde"><span class="z-variable z-language z-tilde z-shell">~</span></span>/.ssh/id_ed25519.pub  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> copy the output</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></span></code></pre><p>Paste the output to the SSH keys section on borgbase.com and save it there.<p>Again on the borgbase.com site, create a new repository, specifying:<ul><li>name of repo<li>storage in EU<li>type: Borg<li>select key (append-only access - stops an intruder from permanently deleting your backups)<li>alerting if no backup after 1 day<li>enable compaction<li>finally add the repo</ul><p>You should then get a URL for the remote repo, in the format: <code>ssh://xxxxxxxx@xxxxxxxx.repo.borgbase.com/./repo</code><p>I wanted to create a local backup as well, so I created a folder for that outside my home directory:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> mkdir<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>p</span> /mnt/backup</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> chown<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> -</span>R</span> <span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">USER</span></span>:<span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">USER</span></span> /mnt/backup  </span>
</span></code></pre><p>Next you want to create a template configuration file for borgmatic:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> borgmatic config generate</span>
</span></code></pre><p>You can edit the configuration file you just created with:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> vim /etc/borgmatic/config.yaml</span>
</span></code></pre><p>My configuration file looks like this (there are lots of other options I haven’t explored):<pre class=z-code><code><span class="z-text z-plain">source_directories:
</span><span class="z-text z-plain">  - /home/paul/Backups
</span><span class="z-text z-plain">  - /home/paul/.ssh
</span><span class="z-text z-plain">  - /home/paul/ansible
</span><span class="z-text z-plain">  - /home/paul/.bashrc
</span><span class="z-text z-plain">repositories:
</span><span class="z-text z-plain">  - path: "ssh://xxxxxxxx@xxxxxxxx.repo.borgbase.com/./repo"
</span><span class="z-text z-plain">    label: pop-os-Backups
</span><span class="z-text z-plain">  - path: /mnt/backup
</span><span class="z-text z-plain">    label: local
</span><span class="z-text z-plain">keep_daily: 7
</span><span class="z-text z-plain">keep_weekly: 4
</span><span class="z-text z-plain">keep_monthly: 6
</span><span class="z-text z-plain">keep_yearly: 1
</span><span class="z-text z-plain">checks:
</span><span class="z-text z-plain">  - name: repository
</span><span class="z-text z-plain">  - name: archives
</span><span class="z-text z-plain">    frequency: 2 weeks
</span><span class="z-text z-plain">encryption_passphrase: "flashing-unsuited-trench-shape-plexiglas-swizzle"  # not real!
</span></code></pre><p>What this does is (in a single configuration file - cool):<ul><li>Specify multiple files or folders for backup<li>Specify where the backups are to go<li>Retention periods for backups<li>Checks to be done on the backups<li>The passphrase I want to use for encryption</ul><p>It is easy to end up with invalid YAML in your configuration file, so make sure to check it with:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> borgmatic config validate</span>
</span></code></pre><p>Next you need to “initiate” your repositories:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> borgmatic init<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>encryption</span><span class="z-keyword z-operator z-assignment z-option z-shell">=</span>repokey </span>
</span></code></pre><p>Then you should obtain the Borg encryption keys, which are different to your SSH key and different for each location you are backing up to (you will need these and the passphrase for recovery):<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> borg key export ssh://xxxxxxxx@xxxxxxxx.repo.borgbase.com/./repo  </span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> borg key export /mnt/backup</span>
</span></code></pre><p>Save each key shown, which each looks like this:<pre class=z-code><code><span class="z-text z-plain">BORG_KEY aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa...
</span><span class="z-text z-plain">...
</span></code></pre><p>Now your repositories are set up, you can do a test backup:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> borgmatic create<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verbosity</span> 2<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>dry-run</span></span>
</span></code></pre><p>If that works without errors (I had to go back and try to fix SSH several times, before realising that both my user and root needed the keys), you can now run a backup:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> borgmatic create<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verbosity</span> 2<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>list</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>stats</span></span>
</span></code></pre><p>This may take a while if it is a big backup.<p>The command which you will then run routinely is the following, which does the backup as well as other routine maintenance:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> borgmatic<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verbosity</span> 2<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>list</span><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>stats</span></span>
</span></code></pre><p>You can run the backup manually whenever you like, or (better) create a CRON job to run the backup/maintenance at 3am each day, in which case you need to create a file containing this line, with the commands below:<pre class=z-code><code><span class="z-text z-plain">0 3 * * * root PATH=$PATH:/usr/bin:/usr/local/bin /root/.local/bin/borgmatic --verbosity 2 --syslog-verbosity 2
</span></code></pre><pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">vim</span></span><span class="z-meta z-function-call z-arguments z-shell"> borgmatic  <span class="z-comment z-line z-number-sign z-shell"><span class="z-punctuation z-definition z-comment z-begin z-shell">#</span></span><span class="z-comment z-line z-number-sign z-shell"> add line above - can reduce verbosity if preferred</span><span class="z-comment z-line z-number-sign z-shell">
</span></span></span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> mv borgmatic /etc/cron.d/borgmatic</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> chown root:root /etc/cron.d/borgmatic</span>
</span><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> chmod 644 /etc/cron.d/borgmatic</span>
</span></code></pre><p>Check the CRON command can run with:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-variable z-other z-readwrite z-assignment z-shell">PATH</span><span class="z-keyword z-operator z-assignment z-shell">=</span><span class="z-string z-unquoted z-shell"><span class="z-meta z-group z-expansion z-parameter z-shell"><span class="z-punctuation z-definition z-variable z-shell">$</span><span class="z-variable z-other z-readwrite z-shell">PATH</span></span>:/usr/bin:/usr/local/bin</span> <span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">/root/.local/bin/borgmatic</span></span><span class="z-meta z-function-call z-arguments z-shell"><span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>verbosity</span> 2<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>syslog-verbosity</span> 2</span>
</span></code></pre><p>You now have a 3-2-1 backup strategy, with various checks.<p>If you lose a file, you can search for versions of it in your backups with:<pre class="language-bash z-code" data-lang=bash><code class=language-bash data-lang=bash><span class="z-source z-shell z-bash"><span class="z-meta z-function-call z-shell"><span class="z-variable z-function z-shell">sudo</span></span><span class="z-meta z-function-call z-arguments z-shell"> borgmatic list<span class="z-variable z-parameter z-option z-shell"><span class="z-punctuation z-definition z-parameter z-shell"> --</span>find</span> myfile.docx</span>
</span></code></pre><p>I haven’t tried this yet, but borgmatic has <code>extract</code> and <code>restore</code> commands for restoring from backups - I intend to try these out, as a resilient backup strategy should also check that the backups can be restored.</section></article></main><div id=button-container><div id=toc-floating-container><input class=toggle id=toc-toggle type=checkbox><label class=overlay for=toc-toggle></label><label title="Toggle Table of Contents" class=button for=toc-toggle id=toc-button><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M414.82-193.094q-18.044 0-30.497-12.32-12.453-12.319-12.453-30.036t12.453-30.086q12.453-12.37 30.497-12.37h392.767q17.237 0 29.927 12.487 12.69 12.486 12.69 30.203 0 17.716-12.69 29.919t-29.927 12.203H414.82Zm0-244.833q-18.044 0-30.497-12.487Q371.87-462.9 371.87-480.45t12.453-29.92q12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.511 12.69 12.512 12.69 29.845 0 17.716-12.69 30.086-12.69 12.37-29.927 12.37H414.82Zm0-245.167q-18.044 0-30.497-12.32t-12.453-30.037q0-17.716 12.453-30.086 12.453-12.369 30.497-12.369h392.767q17.237 0 29.927 12.486 12.69 12.487 12.69 30.203 0 17.717-12.69 29.92-12.69 12.203-29.927 12.203H414.82ZM189.379-156.681q-32.652 0-55.878-22.829t-23.226-55.731q0-32.549 23.15-55.647 23.151-23.097 55.95-23.097 32.799 0 55.313 23.484 22.515 23.484 22.515 56.246 0 32.212-22.861 54.893-22.861 22.681-54.963 22.681Zm0-245.167q-32.652 0-55.878-23.134-23.226-23.135-23.226-55.623 0-32.487 23.467-55.517t56.12-23.03q32.102 0 54.721 23.288 22.62 23.288 22.62 55.775 0 32.488-22.861 55.364-22.861 22.877-54.963 22.877Zm-.82-244.833q-32.224 0-55.254-23.288-23.03-23.289-23.03-55.623 0-32.333 23.271-55.364 23.272-23.03 55.495-23.03 32.224 0 55.193 23.288 22.969 23.289 22.969 55.622 0 32.334-23.21 55.364-23.21 23.031-55.434 23.031Z"/></svg></label><div class=toc-content><div class=toc-container><ul><li><a href=https://prcleary.github.io/zola/notes/Selfhosting/backing-up-servers-and-desktops-with-borgmatic/#instructions>Instructions</a></ul></div></div></div><a title="Go to the top of the page" class=no-hover-padding href=# id=top-button> <svg viewbox="0 0 20 20" fill=currentColor><path d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z"/></svg> </a></div><link href=https://prcleary.github.io/zola/katex.min.css rel=stylesheet><script defer src=https://prcleary.github.io/zola/js/katex.min.js></script><span class=hidden id=copy-success> Copied! </span><span class=hidden id=copy-init> Copy code to clipboard </span><script defer src=https://prcleary.github.io/zola/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" href=https://prcleary.github.io/zola/atom.xml> <img alt=feed loading=lazy src=https://prcleary.github.io/zola/social_icons/rss.svg title=feed> </a><li class=js><a class="nav-links no-hover-padding social" data-encoded-email="YmxvZ3NwYW1AcGF1bGNsZWFyeS5uZXQ=" href=#><img alt=email loading=lazy src=https://prcleary.github.io/zola/social_icons/email.svg title=email> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://bsky.app/profile/paulcleary.net> <img alt=bluesky loading=lazy src=https://prcleary.github.io/zola/social_icons/bluesky.svg title=bluesky> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://github.com/prcleary/> <img alt=github loading=lazy src=https://prcleary.github.io/zola/social_icons/github.svg title=github> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://letterboxd.com/rusticana/> <img alt=letterboxd loading=lazy src=https://prcleary.github.io/zola/social_icons/letterboxd.svg title=letterboxd> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://infosec.exchange/@carupalley> <img alt=mastodon loading=lazy src=https://prcleary.github.io/zola/social_icons/mastodon.svg title=mastodon> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://orcid.org/0000-0001-9335-5422> <img alt=orcid loading=lazy src=https://prcleary.github.io/zola/social_icons/orcid.svg title=orcid> </a></ul></nav><nav class=nav-navs></nav><div class=credits><small> <p><p>Wikipaulia © 2026 Paul Cleary | Unless otherwise noted, the content in this website is available under the <a class=external href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA 4.0</a> license.</p> Powered by <a href=https://www.getzola.org>Zola</a> & <a href=https://github.com/welpo/tabi>tabi</a> | <a href=https://github.com/prcleary/zola> Site source </a></small></div></section><script async src=https://prcleary.github.io/zola/js/decodeMail.min.js></script><div class="search-modal js" aria-labelledby=modalTitle id=searchModal role=dialog><h1 class=visually-hidden id=modalTitle>Search</h1><div id=modal-content><div id=searchBar><div aria-hidden=true class=search-icon><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z"/></svg></div><input aria-controls=results-container aria-expanded=false autocomplete=off id=searchInput placeholder=Search… role=combobox spellcheck=false><div class="close-icon interactive-icon" title="Clear search" id=clear-search role=button tabindex=0><svg viewbox="0 -960 960 960" xmlns=http://www.w3.org/2000/svg><path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"/></svg></div></div><div id=results-container><div id=results-info><span id=zero_results> No results</span><span id=one_results> $NUMBER result</span><span id=many_results> $NUMBER results</span><span id=two_results> $NUMBER results</span><span id=few_results> $NUMBER results</span></div><div id=results role=listbox></div></div></div></div></footer>